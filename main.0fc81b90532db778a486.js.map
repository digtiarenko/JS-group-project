{"version":3,"sources":["webpack:///./templates/film-card.hbs","webpack:///./js/refs.js","webpack:///./js/storage.js","webpack:///./js/themes.js","webpack:///./js/footermodal.js","webpack:///./js/theme-change.js","webpack:///./js/error-notification.js","webpack:///./js/key-words.js","webpack:///./js/pagination.js","webpack:///./js/addContent.js","webpack:///./js/request.js","webpack:///./js/apiService.js","webpack:///./js/spinner.js","webpack:///./js/fetch.js","webpack:///./js/modal.js","webpack:///./js/modal-close.js","webpack:///./js/movieLibrary.js","webpack:///./js/clear-movie-list.js","webpack:///./js/fnHendler.js","webpack:///./js/change-header-theme.js","webpack:///./js/library-list-hendler.js","webpack:///./index.js","webpack:///./js/header-position.js","webpack:///./js/up-btn.js","webpack:///./templates/pagination.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","refs","headerNavContainer","document","querySelector","paginationBox","paginationList","filmListRef","checkboxEl","bodyEl","modalRef","backdropModalRef","closeBtn","modalImg","modalTitle","votes","rate","popularity","title","genre","descr","votesTitle","popularityTitle","originalTitle","genresTitle","addToWatchedBtn","addToQueueBtn","pageLibraryRef","divLightbox","btnClose","modalOpen","openModal","siteNavButtons","logoNav","libraryList","searchForm","homeHeaderBtn","libraryHeaderBtn","watchedBtn","queueBtn","headerContainer","spinner","errorNoteRef","messageLibRef","clearBtn","clearBtnContainer","load","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","save","value","stringify","setItem","LIGHT","DARK","onModalCloseDiv","classList","add","remove","addEventListener","savedTheme","onCheckboxChecked","checked","onCheckboxNotChecked","event","currentTarget","preventDefault","target","this","showErrorNotification","element","style","display","setTimeout","numberOfPagesPagination","totalPages","contains","nameLibrary","textContent","pathForImg","listFilms","detalsFilms","length","showErrorNote","innerHTML","message","resultForMarkup","map","elem","genresFilm","find","item","id","genres","slice","name","poster_path","release_date","insertAdjacentHTML","filmCard","HOME","SEARCH","WATCHED","QUEUE","ulrApi","query","page","keyApi","language","currentRequest","fetchReturn","url","opts","fetch","then","response","json","catch","fetchData","currentPage","urlApi","log","Error","headers","Accept","fetchDetalsFilm","movieId","body","clientWidth","totalHits","activePage","arrayPagination","apiService","perPage","Math","ceil","numberOfPages","centerOfPages","Array","from","v","k","limit","isActive","createArrayPaginationMobile","createArrayPagination","eventTarget","resultArray","itemStart","floor","currentNumStart","FETCH","currentNumEnd","numStart","numEnd","fetchSettings","pagePagination","set","resAwait","totalResults","total_results","results","promisesIdFilms","Promise","all","resultArrayDetalsFilm","addContent","pagination","Number","numFirst","numLast","updateModalValue","genresSep","object","obj","valueHeight","src","vote_average","vote_count","original_title","overview","dataset","offsetHeight","openingModal","nodeName","movieid","includes","window","onEscPress","closingModal","removeEventListener","clearData","code","attribute","splice","indexOf","push","currentValue","searchQuery","elements","trim","fnFetch","activePaginationPage","className","req","request","clearList","onSiteNavButtonsClick","parentElement","reset","toggle","fnHendler","headerFixed","lastScrollTop","scrollTop","pageYOffset","documentElement","top","passive","goTopBtn","scrolled","coords","clientHeight","backToTop","scrollBy","lambda"],"mappings":"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","file":"main.0fc81b90532db778a486.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li class=\\\"film item\\\" data-movieId=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":43},\"end\":{\"line\":2,\"column\":49}}}) : helper)))\n    + \">\\r\\n          <div href=\\\"\\\" class=\\\"film__link link\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":12},\"end\":{\"line\":8,\"column\":20}}})) != null ? stack1 : \"\")\n    + \"\\r\\n            <div class=\\\"film__content\\\"} data-movieId=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":53},\"end\":{\"line\":10,\"column\":59}}}) : helper)))\n    + \">\\r\\n              <h3 class=\\\"film__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":38},\"end\":{\"line\":11,\"column\":47}}}) : helper)))\n    + \"</h3>\\r\\n              <div class=\\\"film__info\\\" data-movieId=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":51},\"end\":{\"line\":12,\"column\":57}}}) : helper)))\n    + \">\\r\\n                <ul class=\\\"film__genres\\\" >\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":18},\"end\":{\"line\":19,\"column\":26}}})) != null ? stack1 : \"\")\n    + \"|&#32;\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":32},\"end\":{\"line\":19,\"column\":48}}}) : helper)))\n    + \"&#32;</ul>\\r\\n                  <span class=\\\"film__average\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":46},\"end\":{\"line\":20,\"column\":62}}}) : helper)))\n    + \"</span></div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"             <img src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":22},\"end\":{\"line\":5,\"column\":37}}}) : helper)))\n    + \" class=\\\"film__img\\\" alt=\\\"\\\" data-movieId=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":76},\"end\":{\"line\":5,\"column\":82}}}) : helper)))\n    + \">\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"             <img src=\\\"./images/default-opt.jpg\\\" class=\\\"film__img\\\" alt=\\\"\\\" data-movieId=\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":87},\"end\":{\"line\":7,\"column\":93}}}) : helper)))\n    + \">\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(data && lookupProperty(data,\"last\")),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":18},\"end\":{\"line\":18,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"                 \";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" <li class=\\\"film__list__genre\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":62},\"end\":{\"line\":15,\"column\":70}}}) : helper)))\n    + \"&#32;</li>\\r\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                                <li class=\\\"film__list__genre\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":62},\"end\":{\"line\":17,\"column\":70}}}) : helper)))\n    + \",&#32;</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":8},\"end\":{\"line\":24,\"column\":17}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\r\n    headerNavContainer: document.querySelector('.header-nav-container'),\r\n    paginationBox: document.querySelector('.pagination'),\r\n    paginationList: document.querySelector('.pagination__list'),\r\n    filmListRef: document.querySelector('.films__list'),\r\n    checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n    bodyEl: document.querySelector('body'),\r\n    modalRef: document.querySelector('.modal'),\r\n    backdropModalRef: document.querySelector('.backdrop'),\r\n    closeBtn: document.querySelector('[data-action=close]'),\r\n\r\n    modalImg: document.querySelector('.modal__image'),\r\n    modalTitle: document.querySelector('.modal__title'),\r\n    votes: document.querySelector('[data-attribute=\"votes\"]'),\r\n    rate: document.querySelector('.film-info__rate'),\r\n    popularity: document.querySelector('[data-attribute=\"popularity\"]'),\r\n    title: document.querySelector('[data-attribute=\"title\"]'),\r\n    genre: document.querySelector('[data-attribute=\"genre\"]'),\r\n    descr: document.querySelector('.description-text'),\r\n    votesTitle: document.querySelector('[data-attribute=\"votesTitle\"]'),\r\n    popularityTitle: document.querySelector('[data-attribute=\"popularityTitle\"]'),\r\n    originalTitle: document.querySelector('[data-attribute=\"originalTitle\"]'),\r\n    genresTitle: document.querySelector('[data-attribute=\"genresTitle\"]'),\r\n\r\n    addToWatchedBtn: document.querySelector('.modal__btn--watched'),\r\n    addToQueueBtn: document.querySelector('.modal__btn--queue'),\r\n\r\n    \r\n\r\n    pageLibraryRef: () => document.querySelector('[data-request=\"library\"]'),\r\n\r\n    \r\n    divLightbox: document.querySelector('.lightbox'),\r\n    btnClose: document.querySelector('.lightbox__button'),\r\n    modalOpen: document.querySelector('.lightbox__body'),\r\n    openModal: document.querySelector('.js-footer__text'),\r\n\r\n    \r\n\r\n    siteNavButtons: document.querySelector('.site-nav__list'),\r\n    logoNav: document.querySelector('.logo-container'),\r\n    libraryList: document.querySelector('.library__list'),\r\n    searchForm: document.querySelector('.search-form'),\r\n    homeHeaderBtn: document.querySelector('.js-home'),\r\n    libraryHeaderBtn: document.querySelector('.js-library'),\r\n    watchedBtn: document.querySelector('[data-request=\"watched\"]'),\r\n    queueBtn: document.querySelector('[data-request=\"queue\"]'),\r\n    headerContainer: document.querySelector('.header-container'),\r\n\r\n    spinner: document.querySelector('#spinner'),\r\n    errorNoteRef: document.querySelector('.header__error'),\r\n    messageLibRef: document.querySelector('.films__message'),\r\n    clearBtn: document.querySelector('[data-request=\"clear\"]'),\r\n    clearBtnContainer: document.querySelector('.library__delete'),\r\n};\r\n\r\nexport default refs;","// Theme storage\r\nconst load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nconst remove = key => {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (err) {\r\n    console.error('Remove state error: ', err);\r\n  }\r\n};\r\nexport { load, save, remove };","const Themes = {\r\n  LIGHT: 'light-theme',\r\n  DARK: 'dark-theme',\r\n};\r\n\r\nconst { LIGHT, DARK } = Themes;\r\n\r\nexport { LIGHT, DARK };\r\n","import refs from './refs';\r\n\r\n\r\n\r\nrefs.openModal.addEventListener('click', onOpenModal);\r\nrefs.btnClose.addEventListener('click', onModalCloseDiv);\r\nrefs.divLightbox.addEventListener('click', closingOnDiv);\r\ndocument.addEventListener('keydown', onModalCloseEsc);\r\n\r\nfunction closingOnDiv(event) {\r\n\r\n    if (event.target != this) return;\r\n\r\n    onModalCloseDiv();\r\n\r\n}\r\n\r\nfunction onModalCloseDiv() {\r\n    refs.modalOpen.classList.add('slideUpOut');\r\n    refs.modalOpen.classList.remove('slideUpIn');\r\n    refs.divLightbox.classList.remove('is-open');\r\n    refs.bodyEl.classList.remove('is-open');\r\n}\r\n\r\nfunction onModalCloseEsc(event) {\r\n    if (event.key === 'Escape') {\r\n        onModalCloseDiv();\r\n    }\r\n}\r\n\r\nfunction onOpenModal(event) {\r\n    event.preventDefault();\r\n    refs.modalOpen.classList.remove('slideUpOut');\r\n    refs.divLightbox.classList.add('is-open');\r\n    refs.bodyEl.classList.add('is-open');\r\n    refs.modalOpen.classList.add('slideUpIn');\r\n\r\n}\r\nexport default onModalCloseDiv;","import { LIGHT, DARK } from './themes';\r\nimport { load, save, remove } from './storage';\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\nconst refs = {\r\n  checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n  bodyEl: document.querySelector('body'),\r\n}\r\n\r\nfunction onCheckboxChange() {\r\n  event.currentTarget.checked ? onCheckboxChecked() : onCheckboxNotChecked();\r\n}\r\n\r\nfunction onCheckboxChecked() {\r\n  refs.bodyEl.classList.add(DARK);\r\n  refs.bodyEl.classList.remove(LIGHT);\r\n  save('Theme', DARK);\r\n  refs.checkboxEl.checked = true;\r\n}\r\n\r\nfunction onCheckboxNotChecked() {\r\n  refs.bodyEl.classList.add(LIGHT);\r\n  refs.bodyEl.classList.remove(DARK);\r\n  save('Theme', LIGHT);\r\n  refs.checkboxEl.checked = false;\r\n}\r\n\r\nfunction currentTheme() {\r\n  const savedTheme = load('Theme');\r\n  if (savedTheme === LIGHT) {\r\n    onCheckboxNotChecked();\r\n    return;\r\n  }\r\n  if (savedTheme === DARK) {\r\n    onCheckboxChecked();\r\n    return;\r\n  }\r\n}\r\ncurrentTheme();\r\nrefs.checkboxEl.addEventListener('change', onCheckboxChange);\r\n\r\n});\r\n","\r\nexport default function showErrorNotification(element)  {\r\n    element.style.display = \"block\";\r\n    setTimeout(() => {\r\n      element.style.display = \"none\";\r\n    }, 2000);\r\n}","import refs from './refs';\r\nimport { load } from './storage';\r\n\r\nexport default {\r\n  messageClose() {\r\n    if (!refs.messageLibRef.classList.contains('is-hidden')) {\r\n      refs.messageLibRef.classList.add('is-hidden');\r\n    }\r\n  },\r\n\r\n  messageShow() {\r\n    refs.messageLibRef.classList.remove('is-hidden');\r\n  },\r\n  messageAboutLibrary() {\r\n    const nameLibrary = load('currentRequest');\r\n    refs.messageLibRef.classList.remove('is-hidden');\r\n    refs.messageLibRef.textContent = `Oops! Your \"${nameLibrary}\" library is empty!`;\r\n  },\r\n};\r\n","import paginationList from '../templates/pagination.hbs';\r\nimport apiService from './apiService.js';\r\nimport refs from './refs';\r\nlet numberOfPagesPagination;\r\n\r\nconst FETCH = 20;\r\nconst screenWidth = 580;\r\nconst limit = 20;\r\nlet totalPages;\r\n\r\nfunction createArrayPaginationMobile(numberOfPages, activePage, totalPages) {\r\n  let arrayOfPages;\r\n  const centerOfPages = Math.ceil(numberOfPages / 2);\r\n\r\n  if (numberOfPages >= totalPages || activePage <= centerOfPages) {\r\n    arrayOfPages = Array.from({ length: numberOfPages }, (v, k) => {\r\n      return k + 1;\r\n    });\r\n  } else if (activePage >= limit - 2) {\r\n    arrayOfPages = Array.from(\r\n      { length: numberOfPages },\r\n      (v, k) => limit - numberOfPages + k + 1,\r\n    );\r\n  } else {\r\n    arrayOfPages = Array.from(\r\n      { length: numberOfPages },\r\n      (v, k) => activePage - centerOfPages + k + 1,\r\n    );\r\n  }\r\n\r\n  return arrayOfPages.map(elem =>\r\n    elem === activePage ? { elem, isActive: true } : { elem, isActive: false },\r\n  );\r\n}\r\n\r\nfunction createArrayPagination(numberOfPages, activePage, totalPages) {\r\n  let arrayOfPages;\r\n  const centerOfPages = Math.ceil(numberOfPages / 2);\r\n  if (numberOfPages >= totalPages) {\r\n    arrayOfPages = Array.from({ length: numberOfPages }, (v, k) => {\r\n      return k + 1;\r\n    });\r\n  } else if (activePage <= centerOfPages) {\r\n    arrayOfPages = [\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return k + 1;\r\n      }),\r\n      '...',\r\n      totalPages,\r\n    ];\r\n  } else if (activePage === totalPages) {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return activePage - numberOfPages + 3 + k;\r\n      }),\r\n    ];\r\n  } else if (activePage >= totalPages - 4) {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return limit - numberOfPages + 3 + k;\r\n      }),\r\n    ];\r\n  } else {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 5 }, (v, k) => {\r\n        return activePage - centerOfPages + k + 3;\r\n      }),\r\n      '...',\r\n      totalPages,\r\n    ];\r\n  }\r\n\r\n  return arrayOfPages.map(elem =>\r\n    elem === activePage ? { elem, isActive: true } : { elem, isActive: false },\r\n  );\r\n}\r\n\r\nexport default {\r\n  addPaginationList(totalHits, activePage) {\r\n\r\n    if (!totalHits || totalHits <= apiService.perPage) {\r\n      refs.paginationBox.classList.add('is-hidden');\r\n      return;\r\n    }\r\n\r\n    totalPages =\r\n      totalHits / apiService.perPage <= limit\r\n        ? Math.ceil(totalHits / apiService.perPage)\r\n        : limit;\r\n\r\n    if (!totalHits) return;\r\n    let arrayPagination;\r\n\r\n    if (totalPages <= 5) {\r\n      numberOfPagesPagination = totalPages;\r\n    } else {\r\n      if (document.body.clientWidth < screenWidth) {\r\n        numberOfPagesPagination = 5;\r\n      } else {\r\n        numberOfPagesPagination = 9;\r\n      }\r\n    }\r\n    if (document.body.clientWidth < screenWidth) {\r\n      arrayPagination = createArrayPaginationMobile(\r\n        totalPages <= 5 ? totalPages : numberOfPagesPagination,\r\n        activePage,\r\n        totalPages,\r\n      );\r\n    } else {\r\n      arrayPagination = createArrayPagination(\r\n        totalPages <= 9 ? totalPages : numberOfPagesPagination,\r\n        activePage,\r\n        totalPages,\r\n      );\r\n    }\r\n\r\n    refs.paginationBox.classList.remove('is-hidden');\r\n    refs.paginationList.innerHTML = '';\r\n    refs.paginationList.insertAdjacentHTML(\r\n      'beforeend',\r\n      paginationList(arrayPagination),\r\n    );\r\n  },\r\n\r\n  getActivePageForFetch(eventTarget) {\r\n    let activePage = +refs.paginationBox.querySelector('.active').textContent;\r\n\r\n    if (eventTarget.classList.contains('prev')) {\r\n      return activePage > 1 ? activePage - 1 : 1;\r\n    }\r\n    if (eventTarget.classList.contains('next')) {\r\n      return activePage < totalPages ? activePage + 1 : totalPages;\r\n    }\r\n    return +eventTarget.textContent;\r\n  },\r\n\r\n  getSettingForFetch(activePage) {\r\n    let resultArray = [];\r\n    const perPage = apiService.perPage;\r\n\r\n    let itemEnd = activePage * perPage;\r\n    let itemStart = itemEnd - perPage + 1;\r\n\r\n    const currentPage = Math.floor(itemStart / FETCH) + 1;\r\n\r\n    const currentNumStart =\r\n      itemStart % FETCH ? (itemStart % FETCH) - 1 : FETCH - 1;\r\n\r\n    let currentNumEnd = currentNumStart + perPage;\r\n\r\n    if (currentNumEnd < FETCH) {\r\n      resultArray = [\r\n        { page: currentPage, numStart: currentNumStart, numEnd: currentNumEnd },\r\n      ];\r\n      return resultArray;\r\n    }\r\n  \r\n    else {\r\n      resultArray = [\r\n        { page: currentPage, numStart: currentNumStart, numEnd: undefined },\r\n      ];\r\n      if (FETCH - currentNumStart === perPage) {\r\n        return resultArray;\r\n      }\r\n    }\r\n\r\n    const nextPage = currentPage + 1;\r\n    const nextNumStart = 0;\r\n    const nextNumEnd = perPage - (FETCH - currentNumStart);\r\n\r\n    resultArray = [\r\n      ...resultArray,\r\n      { page: nextPage, numStart: nextNumStart, numEnd: nextNumEnd },\r\n    ];\r\n    return resultArray;\r\n  },\r\n\r\n  getActivePage() {\r\n    return +refs.paginationBox.querySelector('.active').textContent;\r\n  },\r\n};\r\n","import filmCard from '../templates/film-card.hbs';\r\nimport refs from './refs';\r\nimport showErrorNote from './error-notification';\r\nimport message from './key-words';\r\n\r\nconst pathForImg = 'https://image.tmdb.org/t/p/w342/';\r\nconst imgDefault = './images/default-opt.jpg';\r\n\r\nexport default {\r\n  additemList(listFilms, detalsFilms) {\r\n    if (!listFilms || !listFilms.length) {\r\n      showErrorNote(refs.errorNoteRef);\r\n      refs.filmListRef.innerHTML = '';\r\n      refs.paginationList.innerHTML = '';\r\n      return;\r\n    }\r\n    message.messageClose();\r\n    const resultForMarkup = listFilms.map(elem => {\r\n      const genresFilm = detalsFilms.find(item => item.id === elem.id).genres;\r\n\r\n      const genres =\r\n        genresFilm.length > 2\r\n          ? [...genresFilm.slice(0, 2), { id: 999, name: 'Other' }]\r\n          : genresFilm.length\r\n          ? genresFilm\r\n          : [...genresFilm.slice(0, 2), { id: 998, name: 'N/A' }];\r\n\r\n      return {\r\n        ...elem,\r\n        poster_path: elem.poster_path ? pathForImg + elem.poster_path : false,\r\n        release_date: elem.release_date ? elem.release_date.slice(0, 4) : 'N/A',\r\n        genres,\r\n      };\r\n    });\r\n\r\n    refs.filmListRef.innerHTML = '';\r\n    refs.filmListRef.insertAdjacentHTML('beforeend', filmCard(resultForMarkup));\r\n  },\r\n\r\n  addLibraryList(listFilms) {\r\n    if (!listFilms || !listFilms.length) {\r\n      refs.filmListRef.innerHTML = '';\r\n      refs.paginationList.innerHTML = '';\r\n\r\n      message.messageAboutLibrary();\r\n      message.messageShow();\r\n      return;\r\n    }\r\n    message.messageClose();\r\n    const resultForMarkup = listFilms.map(elem => {\r\n      const genres =\r\n        elem.genres.length > 2\r\n          ? [...elem.genres.slice(0, 2), { id: 999, name: 'Other' }]\r\n          : elem.genres.length\r\n          ? elem.genres\r\n          : [...elem.genres.slice(0, 2), { id: 998, name: 'N/A' }];\r\n\r\n      return {\r\n        ...elem,\r\n        poster_path: elem.poster_path\r\n          ? pathForImg + elem.poster_path\r\n          : imgDefault,\r\n        release_date: elem.release_date ? elem.release_date.slice(0, 4) : 'N/A',\r\n        genres,\r\n      };\r\n    });\r\n\r\n    refs.filmListRef.innerHTML = '';\r\n    refs.filmListRef.insertAdjacentHTML('beforeend', filmCard(resultForMarkup));\r\n  },\r\n};\r\n","const requstName = {\r\n  HOME: 'home',\r\n  SEARCH: 'search',\r\n  WATCHED: 'watched',\r\n  QUEUE: 'queue',\r\n};\r\nconst { HOME, SEARCH, WATCHED, QUEUE } = requstName;\r\n\r\nexport { HOME, SEARCH, WATCHED, QUEUE };\r\n","import { load, save, remove } from './storage';\r\nimport { HOME, SEARCH } from './request.js';\r\n\r\nexport default {\r\n  ulrApi: '',\r\n  query: '',\r\n  page: 1,\r\n  keyApi: '0e6eebd27dfd68a7c4ec96f04756cc6c',\r\n  language: 'en-US',\r\n  currentRequest: '',\r\n\r\n  fetchReturn(url, opts) {\r\n    return fetch(url, opts)\r\n      .then(response => response.json())\r\n      .then(data => data)\r\n      .catch(console.error);\r\n  },\r\n\r\n  fetchData({ page: currentPage = 1 }) {\r\n    this.page = currentPage;\r\n\r\n    this.currentRequest = load('currentRequest');\r\n    switch (this.currentRequest) {\r\n      case HOME:\r\n        this.urlApi = `https://api.themoviedb.org/3/trending/movie/week?api_key=${this.keyApi}&page=${this.page}&language=${this.language}`;\r\n        break;\r\n\r\n      case SEARCH:\r\n        this.urlApi = `https://api.themoviedb.org/3/search/movie?api_key=${this.keyApi}&page=${this.page}&query=${this.query}&language=${this.language}`;\r\n        break;\r\n\r\n      default:\r\n        console.log(Error('    '));\r\n    }\r\n\r\n    const options = {\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n    };\r\n\r\n    return this.fetchReturn(this.urlApi, options);\r\n  },\r\n\r\n  fetchDetalsFilm(movieId) {\r\n    const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${this.keyApi}&language=${this.language}`;\r\n\r\n    const options = {\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n    };\r\n\r\n    return this.fetchReturn(urlApi, options);\r\n  },\r\n\r\n  set searchQuery(value) {\r\n    this.query = value;\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n\r\n  get perPage() {\r\n    if (document.body.clientWidth < 768) {\r\n      return 4;\r\n    }\r\n    if (document.body.clientWidth < 1024) {\r\n      return 8;\r\n    }\r\n    return 9;\r\n  },\r\n  get languageReq() {\r\n    return this.language;\r\n  },\r\n  set languageReq(value) {\r\n    this.language = value;\r\n  },\r\n};\r\n","\r\nimport refs from './refs';\r\n\r\nexport default {\r\n  spinnerShow() {\r\n    refs.spinner.classList.remove('is-hidden__spinner');\r\n  },\r\n\r\n  spinnerClose() {\r\n    refs.spinner.classList.add('is-hidden__spinner');\r\n  },\r\n};\r\n","import addContent from './addContent';\r\nimport apiService from './apiService.js';\r\nimport pagination from './pagination.js';\r\nimport updateModalValue from './modal';\r\nimport refs from './refs';\r\nimport spinner from './spinner';\r\n\r\nexport default {\r\n  async fetchData(\r\n    fetchSettings = [{ page: 1, numStart: 0, numEnd: apiService.perPage }],\r\n    pagePagination = 1,\r\n  ) {\r\n    try {\r\n      let resultArray = [];\r\n      let totalResults;\r\n      console.log(\r\n        'Settings:',\r\n        'pagePagination',\r\n        pagePagination,\r\n        ...fetchSettings,\r\n      );\r\n      spinner.spinnerShow();\r\n      for (let set of fetchSettings) {\r\n        const resAwait = await apiService.fetchData(set);\r\n        totalResults = resAwait.total_results;\r\n        resultArray = [\r\n          ...resultArray,\r\n          ...resAwait.results.slice(set.numStart, set.numEnd),\r\n        ];\r\n      }\r\n      const promisesIdFilms = resultArray.map(elem =>\r\n        apiService.fetchDetalsFilm(elem.id),\r\n      );\r\n      const resultArrayDetalsFilm = await Promise.all(promisesIdFilms);\r\n\r\n      addContent.additemList(resultArray, resultArrayDetalsFilm);\r\n\r\n      pagination.addPaginationList(totalResults, pagePagination);\r\n      spinner.spinnerClose();\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async fetchDataLibrary(pagePagination = 1, listFilms) {\r\n    spinner.spinnerShow();\r\n    const perPage = apiService.perPage;\r\n\r\n    if (!listFilms || !listFilms.length) {\r\n      addContent.addLibraryList(listFilms);\r\n      spinner.spinnerClose();\r\n      return;\r\n    }\r\n\r\n    const resultArray = listFilms.map(elem => Number(elem));\r\n    const promisesIdFilms = resultArray.map(elem =>\r\n      apiService.fetchDetalsFilm(elem, pagePagination),\r\n    );\r\n\r\n    const resultArrayDetalsFilm = await Promise.all(promisesIdFilms);\r\n    const numFirst = pagePagination * perPage - perPage;\r\n    const numLast = pagePagination * perPage;\r\n    addContent.addLibraryList(resultArrayDetalsFilm.slice(numFirst, numLast));\r\n    pagination.addPaginationList(resultArrayDetalsFilm.length, pagePagination);\r\n    spinner.spinnerClose();\r\n  },\r\n\r\n  async fetchDataFilm(movieId) {\r\n    try {\r\n      const resAwait = await apiService.fetchDetalsFilm(movieId);\r\n      updateModalValue(resAwait);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n","import './fetch';\r\nimport './refs';\r\nimport refs from './refs';\r\n\r\nfunction updateModalValue(obj) {\r\n  refs.modalTitle.textContent = obj.title;\r\n  refs.modalImg.src = obj.poster_path\r\n    ? `https://image.tmdb.org/t/p/w500/${obj.poster_path}`\r\n    : './images/default-opt.jpg';\r\n  refs.rate.textContent = obj.vote_average;\r\n  refs.votes.textContent = obj.vote_count;\r\n  refs.popularity.textContent = obj.popularity;\r\n  refs.title.textContent = obj.original_title;\r\n  refs.genre.textContent = genresSep(obj);\r\n  refs.descr.textContent = obj.overview;\r\n\r\n  refs.addToWatchedBtn.dataset.id = obj.id;\r\n  refs.addToQueueBtn.dataset.id = obj.id;\r\n  genresSep(obj);\r\n  alignHeight();\r\n}\r\n\r\n\r\nfunction alignHeight() {\r\n  const item = refs.originalTitle;\r\n  const valueHeight = refs.title.offsetHeight;\r\n  if (item.offsetHeight !== valueHeight) {\r\n    item.style = `margin-bottom: ${valueHeight - 15}px`;\r\n  }\r\n}\r\n\r\nfunction genresSep(object) {\r\n  const genresArray = object.genres;\r\n  genresArray.map(({ name }) => (refs.genre.textContent += `${name} `));\r\n}\r\n\r\nexport default updateModalValue;\r\n","// import './modal.js'\r\nimport refs from './refs';\r\n\r\nfunction nodeCheckClosing(event) {\r\n  if (event.target.dataset.attribute !== 'modal') {\r\n    return;\r\n  }\r\n  closingModal();\r\n}\r\n\r\nrefs.closeBtn.addEventListener('click', closingModal);\r\nrefs.backdropModalRef.addEventListener('click', nodeCheckClosing);\r\nrefs.filmListRef.addEventListener('click', openingModal);\r\n\r\nfunction openingModal(event) {\r\n  let id;\r\n  if (event.target.nodeName === 'IMG' || event.target.nodeName === 'DIV') {\r\n    id = event.target.dataset.movieid;\r\n  }\r\n\r\n  const all = JSON.parse(localStorage.getItem('watched') || '[]');\r\n  if (all.includes(id)) {\r\n    refs.addToWatchedBtn.innerHTML = 'REMOVE FROM WATCHED';\r\n  }\r\n\r\n  const all2 = JSON.parse(localStorage.getItem('queue') || '[]');\r\n  if (all2.includes(id)) {\r\n    refs.addToQueueBtn.innerHTML = 'REMOVE FROM QUEUE';\r\n  }\r\n\r\n  refs.backdropModalRef.classList.add('visually-shown');\r\n  refs.backdropModalRef.classList.remove('visually-hidden');\r\n  refs.bodyEl.classList.add('modal-is-open');\r\n  window.addEventListener('keydown', onEscPress);\r\n}\r\n\r\nfunction closingModal() {\r\n  refs.backdropModalRef.classList.remove('visually-shown');\r\n  window.removeEventListener('keydown', onEscPress);\r\n  refs.bodyEl.classList.remove('modal-is-open');\r\n  setTimeout(clearData, 250);\r\n}\r\n\r\nfunction clearData() {\r\n  refs.modalImg.src = '';\r\n  refs.modalTitle.textContent = '';\r\n  refs.rate.textContent = '';\r\n  refs.votes.textContent = '';\r\n  refs.popularity.textContent = '';\r\n  refs.title.textContent = '';\r\n  refs.genre.textContent = '';\r\n  refs.descr.textContent = '';\r\n  refs.addToWatchedBtn.innerHTML = 'ADD TO WATCHED';\r\n  refs.addToQueueBtn.innerHTML = 'ADD TO QUEUE';\r\n}\r\n\r\nfunction onEscPress(event) {\r\n  if (event.code === 'Escape') closingModal();\r\n}\r\n\r\nexport default openingModal;\r\n","import {Server} from './Firebase';\r\nimport refs from './refs';\r\n\r\n\r\nrefs.addToWatchedBtn.addEventListener('click', handleWatched);\r\nrefs.addToQueueBtn.addEventListener('click', handleQueue);\r\n\r\n\r\nfunction handleWatched(event) {\r\n  event.preventDefault();\r\n  refs.addToWatchedBtn.innerHTML = 'REMOVE FROM WATCHED';\r\n  const id = event.target.dataset.id;\r\n  const all = JSON.parse(localStorage.getItem('watched') || '[]');\r\n  if (!all.includes(id)) { all.push(id) }\r\n  else {\r\n    all.splice(all.indexOf(id), 1);\r\n    refs.addToWatchedBtn.innerHTML = 'ADD TO WATCHED';\r\n  };\r\n\r\n\r\n  localStorage.setItem('watched', JSON.stringify(all));\r\n}\r\n\r\nfunction handleQueue(event) {\r\n  event.preventDefault();\r\n  refs.addToQueueBtn.innerHTML = 'REMOVE FROM QUEUE';\r\n    const id = event.target.dataset.id; \r\n    const all = JSON.parse(localStorage.getItem('queue') || '[]');    \r\n  if (!all.includes(id)) {\r\n    all.push(id);\r\n  } else {\r\n    all.splice(all.indexOf(id), 1);\r\n    refs.addToQueueBtn.innerHTML = 'ADD TO QUEUE';\r\n  };     \r\n    \r\n     localStorage.setItem('queue', JSON.stringify(all));\r\n}","import refs from './refs';\r\nimport { load, save } from './storage';\r\nimport message from './key-words';\r\n\r\n\r\nlet currentValue;\r\n\r\nexport default function clearList() {\r\n    currentValue = load('currentRequest');\r\n\r\n    if (load(currentValue).length === 0) {\r\n        hiddenClearBtn();\r\n        \r\n    } else if (load(currentValue).length !== 0) {\r\n        showClearBtn();\r\n    }\r\n}\r\n\r\nfunction handleClearBtn() {\r\n    save(currentValue, []);\r\n    refs.filmListRef.innerHTML = '';\r\n    refs.clearBtnContainer.style.display = \"none\";\r\n    refs.paginationList.innerHTML = '';\r\n    message.messageAboutLibrary();\r\n}\r\n\r\nfunction hiddenClearBtn() {\r\n    refs.clearBtnContainer.style.display = \"none\";\r\n}\r\n\r\nfunction showClearBtn() {\r\n    refs.clearBtn.textContent = `clear ${currentValue} list`;\r\n    refs.clearBtnContainer.style.display = \"block\";\r\n}\r\n\r\n\r\nrefs.clearBtn.addEventListener('click', handleClearBtn);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import pagination from './pagination.js';\r\nimport fnFetch from './fetch.js';\r\nimport apiService from './apiService.js';\r\nimport { HOME, SEARCH, WATCHED, QUEUE } from './request.js';\r\nimport { load, save, remove } from './storage';\r\nimport showErrorNote from './error-notification';\r\nimport refs from './refs';\r\nconst limit = 20;\r\n\r\nexport default {\r\n  onSubmitSearchForm(event) {\r\n    event.preventDefault();\r\n    const searchQuery = event.target.elements.query.value.trim();\r\n    console.log('search', searchQuery);\r\n    if (!searchQuery) {\r\n      showErrorNote(refs.errorNoteRef);\r\n      refs.filmListRef.innerHTML = '';\r\n      refs.paginationList.innerHTML = '';\r\n      return;\r\n    }\r\n    apiService.searchQuery = searchQuery;\r\n    save('currentRequest', SEARCH);\r\n    fnFetch.fetchData();\r\n  },\r\n\r\n  onClickPaginate(event) {\r\n    if (event.target.nodeName !== 'LI' || event.target.textContent === '...') {\r\n      return;\r\n    }\r\n    const activePaginationPage = pagination.getActivePage();\r\n    if (\r\n      activePaginationPage >= limit &&\r\n      event.target.className === 'pagination__item next'\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      activePaginationPage === 1 &&\r\n      event.target.className === 'pagination__item prev'\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const pagePagination = pagination.getActivePageForFetch(event.target);\r\n    const fetchSettings = pagination.getSettingForFetch(pagePagination);\r\n    const currentRequest = load('currentRequest');\r\n    switch (currentRequest) {\r\n      case HOME:\r\n        fnFetch.fetchData(fetchSettings, pagePagination);\r\n        break;\r\n      case SEARCH:\r\n        fnFetch.fetchData(fetchSettings, pagePagination);\r\n        break;\r\n      case WATCHED:\r\n        fnFetch.fetchDataLibrary(pagePagination, load('watched'));\r\n        break;\r\n      case QUEUE:\r\n        fnFetch.fetchDataLibrary(pagePagination, load('queue'));\r\n        break;\r\n      default:\r\n        console.log(Error('    '));\r\n    }\r\n  },\r\n\r\n  onClickFilm(event) {\r\n\r\n    let movieId;\r\n    if (event.target.nodeName === 'IMG' || event.target.nodeName === 'DIV') {\r\n      movieId = event.target.dataset.movieid;\r\n    }\r\n\r\n    event.preventDefault();\r\n    fnFetch.fetchDataFilm(movieId);\r\n  },\r\n\r\n  onClickLibrary() {\r\n    const req = refs.libraryList.querySelector('.is-active').dataset.request;\r\n    save('currentRequest', req);\r\n    fnFetch.fetchDataLibrary(1, load(req));\r\n  },\r\n\r\n  onClickWatched() {\r\n    save('currentRequest', WATCHED);\r\n    fnFetch.fetchDataLibrary(1, load('watched'));\r\n  },\r\n\r\n  onClickQueue() {\r\n    save('currentRequest', QUEUE);\r\n    fnFetch.fetchDataLibrary(1, load('queue'));\r\n  },\r\n\r\n  onClickLogoHome() {\r\n    save('currentRequest', HOME);\r\n    fnFetch.fetchData();\r\n  },\r\n};\r\n","import refs from './refs';\r\nimport clearList from './clear-movie-list';\r\n\r\nexport function onSiteNavButtonsClick(event) {\r\n    const element = event.target;\r\n\r\n    if (element === refs.libraryHeaderBtn) {\r\n        goToLibraryPage();\r\n        clearList();\r\n    } else if (element === refs.homeHeaderBtn || element.parentElement === refs.logoNav) {\r\n        goToHomePage();\r\n    }\r\n    \r\n}\r\n\r\nfunction goToHomePage() {\r\n    refs.headerContainer.classList.remove('header-container--library');\r\n    refs.headerContainer.classList.add('header-container--home');\r\n    refs.headerNavContainer.classList.remove('header-nav-container--library');\r\n    refs.libraryList.style.display = \"none\";\r\n    refs.searchForm.style.display = \"block\";\r\n    refs.homeHeaderBtn.classList.add('is-active');\r\n    refs.libraryHeaderBtn.classList.remove('is-active');\r\n    refs.clearBtnContainer.style.display = \"none\";\r\n    refs.searchForm.reset();\r\n}\r\n\r\nfunction goToLibraryPage() {\r\n    refs.headerContainer.classList.remove('header-container--home');\r\n    refs.headerContainer.classList.add('header-container--library');\r\n    refs.headerNavContainer.classList.add('header-nav-container--library');\r\n    refs.libraryList.style.display = \"flex\";\r\n    refs.searchForm.style.display = \"none\";\r\n    refs.libraryHeaderBtn.classList.add('is-active');\r\n    refs.homeHeaderBtn.classList.remove('is-active');\r\n}\r\n\r\n\r\nrefs.siteNavButtons.addEventListener('click', onSiteNavButtonsClick);\r\nrefs.logoNav.addEventListener('click', onSiteNavButtonsClick);","import refs from './refs';\r\nimport clearList from './clear-movie-list';\r\n\r\n\r\nexport default function onLibraryListClick(event) {\r\n    const element = event.target;\r\n\r\n    if (element.nodeName === 'BUTTON' && element.classList.contains('is-active')) {\r\n        return;\r\n    } else if (element.nodeName === 'BUTTON') {\r\n        toggleLibraryBtnClass();\r\n        clearList();\r\n    }\r\n}\r\n\r\nfunction toggleLibraryBtnClass() {\r\n    refs.watchedBtn.classList.toggle('is-active');\r\n    refs.queueBtn.classList.toggle('is-active');\r\n}\r\n\r\nrefs.libraryList.addEventListener('click', onLibraryListClick);\r\n\r\n\r\n","import './sass/main.scss';\r\nimport refs from './js/refs';\r\nimport './js/up-btn';\r\nimport './js/header-position';\r\nimport './js/storage';\r\nimport './js/themes';\r\nimport './js/theme-change';\r\nimport './js/footermodal.js';\r\n\r\nimport './js/modal';\r\nimport './js/modal-close';\r\nimport './js/movieLibrary';\r\nimport '../node_modules/spinkit/spinkit.css';\r\n\r\n\r\n\r\nimport fnFetch from './js/fetch.js';\r\nimport fnHendler from './js/fnHendler.js';\r\n\r\nimport { HOME } from './js/request.js';\r\nimport { save } from './js/storage';\r\n// import modal from './js/modal';\r\n\r\nimport './js/change-header-theme';\r\nimport './js/library-list-hendler';\r\nimport './js/clear-movie-list';\r\n\r\n\r\n\r\nsave('currentRequest', HOME);\r\n\r\nfnFetch.fetchData();\r\n\r\nrefs.searchForm.addEventListener('submit', fnHendler.onSubmitSearchForm);\r\nrefs.paginationBox.addEventListener('click', fnHendler.onClickPaginate);\r\nrefs.filmListRef.addEventListener('click', fnHendler.onClickFilm);\r\nrefs.libraryHeaderBtn.addEventListener('click', fnHendler.onClickLibrary);\r\nrefs.watchedBtn.addEventListener('click', fnHendler.onClickWatched);\r\nrefs.queueBtn.addEventListener('click', fnHendler.onClickQueue);\r\nrefs.logoNav.addEventListener('click', fnHendler.onClickLogoHome);\r\nrefs.homeHeaderBtn.addEventListener('click', fnHendler.onClickLogoHome);\r\n","const headerFixed = document.querySelector(\".header\");\r\nconst headerHeight = 230;\r\nlet howScroll = 60;\r\nlet lastScrollTop = 0;\r\nwindow.addEventListener(\"scroll\", function () {\r\n  let scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n  if ((scrollTop > lastScrollTop) && (scrollTop > howScroll)) {\r\n    headerFixed.style.top = -headerHeight + 'px';\r\n  } else {\r\n    headerFixed.style.top = 0;\r\n    headerFixed.classList.add(\"js-modify-header\");\r\n  }\r\n  if (window.pageYOffset === 0) {\r\n    headerFixed.classList.remove(\"js-modify-header\");\r\n  }\r\n  lastScrollTop = scrollTop;\r\n}, { passive: true });\r\n","    function trackScroll() {\r\n        const scrolled = window.pageYOffset;\r\n        const coords = document.documentElement.clientHeight;\r\n        if (scrolled > coords) {\r\n            goTopBtn.classList.add('back_to_top-show');\r\n        }\r\n        if (scrolled < coords) {\r\n            goTopBtn.classList.remove('back_to_top-show');\r\n        }\r\n    }\r\n    function backToTop() {\r\n        if (window.pageYOffset > 0) {\r\n            window.scrollBy(0, -80);\r\n            setTimeout(backToTop, 0);\r\n        }\r\n    }\r\n    const goTopBtn = document.querySelector('.back_to_top');\r\n    window.addEventListener('scroll', trackScroll);\r\n    goTopBtn.addEventListener('click', backToTop);","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isActive\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":21},\"end\":{\"line\":7,\"column\":28}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                         <li class=\\\"pagination__item active\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"elem\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                         <li class=\\\"pagination__item \\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"elem\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"               <li class=\\\"pagination__item prev\\\"></li>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":15},\"end\":{\"line\":8,\"column\":24}}})) != null ? stack1 : \"\")\n    + \"               <li class=\\\"pagination__item next\\\"></li>\\r\\n\\r\\n\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}